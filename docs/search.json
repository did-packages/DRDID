[{"path":"https://did-packages.github.io/DRDID/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 DRDID authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://did-packages.github.io/DRDID/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pedro H. C. Sant'Anna. Author, maintainer. Jun Zhao. Author.","code":""},{"path":"https://did-packages.github.io/DRDID/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sant'Anna P, Zhao J (2020). “Doubly Robust Difference--Differences Estimators.” Journal Econometrics, 219, 101-122. https://doi.org/10.1016/j.jeconom.2020.06.003.","code":"@Article{,   title = {Doubly Robust Difference-in-Differences Estimators},   author = {Pedro H. C. Sant'Anna and Jun Zhao},   journal = {Journal of Econometrics},   year = {2020},   volume = {219},   pages = {101-122},   url = {https://doi.org/10.1016/j.jeconom.2020.06.003}, }"},{"path":"https://did-packages.github.io/DRDID/index.html","id":"doubly-robust-difference-in-differences-","dir":"","previous_headings":"","what":"Doubly Robust Difference-in-Differences Estimators","title":"Doubly Robust Difference-in-Differences Estimators","text":"DRDID R package implements different estimators Average Treatment Effect Treated (ATT) Difference--Differences () setups parallel trends assumption holds conditioning vector pre-treatment covariates. main estimators implemented locally efficient, doubly-robust estimators proposed Sant’Anna Zhao (2020), Doubly Robust Difference--Differences Estimators. package covers panel data repeated cross-section data setups two treatment groups (treated comparison group) two time periods (pre-treatment post-treatment). See package manual documentation package functions (examples). end using package, please cite paper: * Sant’Anna, Pedro H. C., Zhao, Jun (2020), “Doubly Robust Difference--Differences Estimators”, Journal Econometrics, Vol. 219 (1), pp. 101-122.","code":""},{"path":"https://did-packages.github.io/DRDID/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Doubly Robust Difference-in-Differences Estimators","text":"install recent version DRDID package GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"did-packages/DRDID\")"},{"path":"https://did-packages.github.io/DRDID/index.html","id":"short-example","dir":"","previous_headings":"","what":"Short example","title":"Doubly Robust Difference-in-Differences Estimators","text":"following portion empirical illustration considered Sant’Anna Zhao (2020) uses LaLonde sample NSW experiment considers data Current Population Survey (CPS) form non-experimental comparison group. Let’s first get data ready: Now, estimate ATT using Improved Locally Efficient Doubly Robust estimator, can use drdid function: additional details usage drdid function, see check manual. implement IPW outcome regression estimators, check , respectively.","code":"library(DRDID) # Load data in long format that comes in the DRDID package data(nsw_long) # Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw_long, nsw_long$treated == 0 | nsw_long$sample == 2) # Implement improved locally efficient DR DID: out <- drdid(yname = \"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",              xformla= ~ age + educ + black + married + nodegree + hisp + re74,              data = eval_lalonde_cps, panel = TRUE) summary(out)"},{"path":"https://did-packages.github.io/DRDID/reference/DRDID-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Doubly robust difference-in-differences estimators — DRDID-package","title":"Doubly robust difference-in-differences estimators — DRDID-package","text":"DRDID package implements different estimators average treatment effect treated difference--differences () setups parallel trends assumption holds condition vector pre-treatment covariates. main estimators implemented locally efficient, doubly-robust estimators proposed Sant'Anna Zhao (2020) <https://arxiv.org/abs/1812.01723>. number estimators discussed Sant'Anna Zhao (2020) also implemented.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/DRDID-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Doubly robust difference-in-differences estimators — DRDID-package","text":"Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid.html","id":null,"dir":"Reference","previous_headings":"","what":"Locally efficient doubly robust DiD estimators for the ATT — drdid","title":"Locally efficient doubly robust DiD estimators for the ATT — drdid","text":"drdid used compute locally efficient doubly robust estimators ATT  difference--differences () setups. can used panel stationary repeated cross section data.  Data store \"long\" format.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Locally efficient doubly robust DiD estimators for the ATT — drdid","text":"","code":"drdid(   yname,   tname,   idname,   dname,   xformla = NULL,   data,   panel = TRUE,   estMethod = c(\"imp\", \"trad\"),   weightsname = NULL,   boot = FALSE,   boot.type = c(\"weighted\", \"multiplier\"),   nboot = 999,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/drdid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Locally efficient doubly robust DiD estimators for the ATT — drdid","text":"yname name outcome variable. tname name column containing time periods. idname name column containing unit id name. dname name column containing treatment group (=1 observation treated post-treatment, =0 otherwise) xformla formula covariates include model. form ~ X1 + X2 (intercept listed always automatically included). Default NULL equivalent xformla=~1. data name data.frame contains data. panel Whether data panel dataset. panel dataset provided long format -- , row corresponds unit observed particular point time.  default TRUE. panel = FALSE, data treated stationary repeated cross sections. estMethod method estimate nuisance parameters. default \"imp\" uses weighted least squares estimate outcome regressions inverse probability tilting estimate propensity score, leading improved locally efficient  DR estimator proposed Sant'Anna Zhao (2020). alternative \"trad\", uses OLS estimate outcome regressions maximum likelihood estimate propensity score. leads \"traditional\" locally efficient DR estimator proposed Sant'Anna Zhao (2020). weightsname name column containing sampling weights. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE analytical standard errors reported. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Locally efficient doubly robust DiD estimators for the ATT — drdid","text":"list containing following components: ATT DR point estimate se DR standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL ps.flag Convergence Flag propensity score estimation  (active estMethod = \"imp\".): =0 trust algorithm converged,    =1 IPT (original) algorithm converged (case used), =2    GLM logit estimator used (.e., trust IPT    converged). call.param matched call. argu arguments used call (panel, estMethod, boot, boot.type, nboot, type=\"dr\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Locally efficient doubly robust DiD estimators for the ATT — drdid","text":"panel data available (panel = TRUE), drdid function implements locally efficient doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.1) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, linear regression model outcome evolution among comparison units. stationary repeated cross-section data available (panel = FALSE), drdid function implements locally efficient doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.4) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, (separate) linear regression models outcome treated comparison units, pre post-treatment periods. one sets estMethod = \"imp\" (default), nuisance parameters (propensity score outcome regression parameters) estimated using methods described Sections 3.1 3.2 Sant'Anna Zhao (2020). short, propensity score parameters estimated using inverse probability tilting estimator proposed Graham, Pinto Pinto (2012), outcome regression coefficients estimated using weighted least squares,weights depend propensity score estimates; see Sant'Anna Zhao (2020) details. one sets estMethod = \"trad\", propensity score parameters estimated using maximum likelihood, outcome regression coefficients estimated using ordinary least squares. main advantage using estMethod = \"imp\" resulting estimator locally efficient doubly robust ATT, also doubly robust inference; see Sant'Anna Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Locally efficient doubly robust DiD estimators for the ATT — drdid","text":"Graham, Bryan, Pinto, Cristine, Egel, Daniel (2012), \"Inverse Probability Tilting Moment Condition Models Missing Data.\"  Review Economic Studies, vol. 79 (3), pp. 1053-1079, doi:10.1093/restud/rdr047 Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122,  doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Locally efficient doubly robust DiD estimators for the ATT — drdid","text":"","code":"# ----------------------------------------------- # Panel data case # ----------------------------------------------- # Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw_long, nsw_long$treated == 0 | nsw_long$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(unique(eval_lalonde_cps$id), 5000) eval_lalonde_cps <- eval_lalonde_cps[eval_lalonde_cps$id %in% unit_random,] # ----------------------------------------------- # Implement improved DR locally efficient DID with panel data drdid(yname=\"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",       xformla= ~ age+ educ+ black+ married+ nodegree+ hisp+ re74,       data = eval_lalonde_cps, panel = TRUE) #>  Call: #> drdid(yname = \"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",  #>     xformla = ~age + educ + black + married + nodegree + hisp +  #>         re74, data = eval_lalonde_cps, panel = TRUE) #> ------------------------------------------------------------------ #>  Further improved locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -615.2344   683.2211   -0.9005     0.3679   -1954.3478  723.8791  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Outcome regression est. method: weighted least squares. #>  Propensity score est. method: inverse prob. tilting. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details.  #Implement \"traditional\" DR locally efficient DID with panel data drdid(yname=\"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",       xformla= ~ age+ educ+ black+ married+ nodegree+ hisp+ re74,       data = eval_lalonde_cps, panel = TRUE, estMethod = \"trad\") #>  Call: #> drdid(yname = \"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",  #>     xformla = ~age + educ + black + married + nodegree + hisp +  #>         re74, data = eval_lalonde_cps, panel = TRUE, estMethod = \"trad\") #> ------------------------------------------------------------------ #>  Locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -507.6113   692.9738   -0.7325     0.4639   -1865.8399  850.6173  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Outcome regression est. method: OLS. #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details.  # ----------------------------------------------- # Repeated cross section case # ----------------------------------------------- # use the simulated data provided in the package #Implement \"improved\" DR locally efficient DID with repeated cross-section data drdid(yname=\"y\", tname = \"post\", idname = \"id\", dname = \"d\",       xformla= ~ x1 + x2 + x3 + x4,       data = sim_rc, panel = FALSE, estMethod = \"imp\") #>  Call: #> drdid(yname = \"y\", tname = \"post\", idname = \"id\", dname = \"d\",  #>     xformla = ~x1 + x2 + x3 + x4, data = sim_rc, panel = FALSE,  #>     estMethod = \"imp\") #> ------------------------------------------------------------------ #>  Further improved locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -0.2089     0.2003    -1.0425     0.2972    -0.6015     0.1838   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: weighted least squares. #>  Propensity score est. method: inverse prob. tilting. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details.  #Implement \"traditional\" DR locally efficient DID with repeated cross-section data drdid(yname=\"y\", tname = \"post\", idname = \"id\", dname = \"d\",       xformla= ~ x1 + x2 + x3 + x4,       data = sim_rc, panel = FALSE, estMethod = \"trad\") #>  Call: #> drdid(yname = \"y\", tname = \"post\", idname = \"id\", dname = \"d\",  #>     xformla = ~x1 + x2 + x3 + x4, data = sim_rc, panel = FALSE,  #>     estMethod = \"trad\") #> ------------------------------------------------------------------ #>  Locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -0.1678     0.2009    -0.8352     0.4036    -0.5616     0.226    #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: OLS. #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","text":"drdid_imp_panel used compute locally efficient doubly robust estimators ATT  difference--differences () setups panel data. resulting estimator also doubly robust  inference; see Section 3.1 Sant'Anna Zhao (2020).","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","text":"","code":"drdid_imp_panel(   y1,   y0,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","text":"y1 \\(n\\) x \\(1\\) vector outcomes post-treatment period. y0 \\(n\\) x \\(1\\) vector outcomes pre-treatment period. D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","text":"list containing following components: ATT point estimate. se standard error. uci upper bound 95% CI ATT. lci lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL. ps.flag Convergence Flag propensity score estimation: =0 trust algorithm converged,    =1 IPW algorithm converged (case used), =2 GLM logit estimator used (.e., trust IPT    converged). att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = TRUE, estMethod = \"imp\", boot, boot.type, nboot, type=\"dr\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_panel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","text":"drdid_imp_panel function implements locally efficient doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.1) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, linear regression model outcome evolution among comparison units. nuisance parameters (propensity score outcome regression parameters) estimated using methods described Sections 3.1 Sant'Anna Zhao (2020). short, propensity score parameters estimated using inverse probability tilting estimator proposed Graham, Pinto Pinto (2012), outcome regression coefficients estimated using weighted least squares,weights depend propensity score estimates; see Sant'Anna Zhao (2020) details. resulting estimator locally efficient doubly robust ATT, also doubly robust inference; see Sant'Anna Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_panel.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","text":"Graham, Bryan, Pinto, Cristine, Egel, Daniel (2012), \"Inverse Probability Tilting Moment Condition Models Missing Data.\"  Review Economic Studies, vol. 79 (3), pp. 1053-1079, doi:10.1093/restud/rdr047 Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_panel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_imp_panel","text":"","code":"# Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw, nsw$treated == 0 | nsw$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(1:nrow(eval_lalonde_cps), 5000) eval_lalonde_cps <- eval_lalonde_cps[unit_random,] # Select some covariates covX = as.matrix(cbind(eval_lalonde_cps$age, eval_lalonde_cps$educ,                              eval_lalonde_cps$black, eval_lalonde_cps$married,                              eval_lalonde_cps$nodegree, eval_lalonde_cps$hisp,                              eval_lalonde_cps$re74))  # Implement improved DR locally efficient DID with panel data drdid_imp_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,                 D = eval_lalonde_cps$experimental,                 covariates = covX) #>  Call: #> drdid_imp_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,  #>     D = eval_lalonde_cps$experimental, covariates = covX) #> ------------------------------------------------------------------ #>  Further improved locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -615.2344   683.2211   -0.9005     0.3679   -1954.3478  723.8791  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Outcome regression est. method: weighted least squares. #>  Propensity score est. method: inverse prob. tilting. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","text":"drdid_imp_rc used compute locally efficient doubly robust estimators ATT  difference--differences () setups stationary repeated cross-sectional data. resulting estimator  also doubly robust inference; see Section 3.2 Sant'Anna Zhao (2020).","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","text":"","code":"drdid_imp_rc(   y,   post,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","text":"list containing following components: ATT DR point estimate se DR standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL ps.flag Convergence Flag propensity score estimation: =0 trust algorithm converged,    =1 IPW algorithm converged (case used), =2 GLM logit estimator used (.e., trust IPT    converged). att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = FALSE, estMethod = \"imp\", boot, boot.type, nboot, type=\"dr\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","text":"drdid_imp_rc function implements locally efficient doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.4) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, (separate) linear regression models outcome treated comparison units, pre post-treatment periods. nuisance parameters (propensity score outcome regression parameters) estimated using methods described Sections 3.2 Sant'Anna Zhao (2020). short, propensity score parameters estimated using inverse probability tilting estimator proposed Graham, Pinto Pinto (2012), outcome regression coefficients estimated using weighted least squares,weights depend propensity score estimates; see Sant'Anna Zhao (2020) details. resulting estimator locally efficient doubly robust ATT, also doubly robust inference; see Sant'Anna Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","text":"Graham, Bryan, Pinto, Cristine, Egel, Daniel (2012), \"Inverse Probability Tilting Moment Condition Models Missing Data.\"  Review Economic Studies, vol. 79 (3), pp. 1053-1079, doi:10.1093/restud/rdr047 Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Improved locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc","text":"","code":"# use the simulated data covX = as.matrix(sim_rc[,5:8]) # Implement the improved, locally efficient DR DID estimator drdid_imp_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,              covariates= covX) #>  Call: #> drdid_imp_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,  #>     covariates = covX) #> ------------------------------------------------------------------ #>  Further improved locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -0.2089     0.2003    -1.0425     0.2972    -0.6015     0.1838   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: weighted least squares. #>  Propensity score est. method: inverse prob. tilting. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc1.html","id":null,"dir":"Reference","previous_headings":"","what":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","title":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","text":"drdid_imp_rc1 used compute doubly robust estimators ATT  difference--differences () setups stationary repeated cross-sectional data. resulting estimator also doubly robust inference,  though locally efficient; see Section 3.2 Sant'Anna Zhao (2020).","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","text":"","code":"drdid_imp_rc1(   y,   post,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","text":"list containing following components: ATT DR point estimate se DR standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL ps.flag Convergence Flag propensity score estimation: =0 trust algorithm converged,    =1 IPW algorithm converged (case used), =2 GLM logit estimator used (.e., trust IPT    converged). att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = FALSE, estMethod = \"imp2\", boot, boot.type, nboot, type=\"dr\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc1.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","text":"drdid_imp_rc1 function implements doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.3) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, (separate) linear regression models outcome among comparison units pre post-treatment time periods. Importantly, estimator locally efficient ATT. nuisance parameters (propensity score outcome regression parameters) estimated using methods described Sections 3.2 Sant'Anna Zhao (2020). short, propensity score parameters estimated using inverse probability tilting estimator proposed Graham, Pinto Pinto (2012), outcome regression coefficients estimated using weighted least squares,weights depend propensity score estimates; see Sant'Anna Zhao (2020) details. resulting estimator doubly robust ATT, also doubly robust inference. However, stress locally efficient; see Sant'Anna Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc1.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","text":"Graham, Bryan, Pinto, Cristine, Egel, Daniel (2012), \"Inverse Probability Tilting Moment Condition Models Missing Data.\"  Review Economic Studies, vol. 79 (3), pp. 1053-1079, doi:10.1093/restud/rdr047 Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_imp_rc1.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Improved doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_imp_rc1","text":"","code":"# use the simulated data provided in the package covX = as.matrix(sim_rc[,5:8]) # Implement the improved DR DID estimator (but not locally efficient!) drdid_imp_rc1(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,              covariates= covX) #>  Call: #> drdid_imp_rc1(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,  #>     covariates = covX) #> ------------------------------------------------------------------ #>  Further improved DR (but not locally efficient) DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -3.6837     3.1145    -1.1828     0.2369    -9.7881     2.4207   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: weighted least squares. #>  Propensity score est. method: inverse prob. tilting. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/drdid_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","title":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","text":"drdid_panel used compute locally efficient doubly robust estimators ATT  difference--differences () setups panel data.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","text":"","code":"drdid_panel(   y1,   y0,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/drdid_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","text":"y1 \\(n\\) x \\(1\\) vector outcomes post-treatment period. y0 \\(n\\) x \\(1\\) vector outcomes pre-treatment period. D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","text":"list containing following components: ATT DR point estimate. se DR standard error. uci Estimate upper bound 95% CI ATT. lci Estimate lower bound 95% CI ATT. boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL. att.inf.func Estimate influence function. Default NULL. call.param matched call. argu arguments used (explicitly ) call (panel = TRUE, estMethod = \"trad\", boot, boot.type, nboot, type=\"dr\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_panel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","text":"drdid_panel function implements locally efficient doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.1) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, linear regression model outcome evolution among comparison units. propensity score parameters estimated using maximum likelihood, outcome regression coefficients estimated using ordinary least squares.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_panel.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","text":"Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_panel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Locally efficient doubly robust DiD estimator for the ATT, with panel data — drdid_panel","text":"","code":"# Form the Lalonde sample with CPS comparison group (data in wide format) eval_lalonde_cps <- subset(nsw, nsw$treated == 0 | nsw$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(1:nrow(eval_lalonde_cps), 5000) eval_lalonde_cps <- eval_lalonde_cps[unit_random,] # Select some covariates covX = as.matrix(cbind(eval_lalonde_cps$age, eval_lalonde_cps$educ,                        eval_lalonde_cps$black, eval_lalonde_cps$married,                        eval_lalonde_cps$nodegree, eval_lalonde_cps$hisp,                        eval_lalonde_cps$re74))  # Implement traditional DR locally efficient DID with panel data drdid_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,              D = eval_lalonde_cps$experimental,              covariates = covX) #>  Call: #> drdid_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,  #>     D = eval_lalonde_cps$experimental, covariates = covX) #> ------------------------------------------------------------------ #>  Locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -507.6113   692.9738   -0.7325     0.4639   -1865.8399  850.6173  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Outcome regression est. method: OLS. #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","title":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","text":"drdid_rc used compute locally efficient doubly robust estimators ATT  difference--differences () setups stationary repeated cross-sectional data.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","text":"","code":"drdid_rc(   y,   post,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","text":"list containing following components: ATT TR-DR point estimate se TR-DR standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = TRUE, estMethod = \"trad\", boot, boot.type, nboot, type=\"dr\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","text":"drdid_rc function implements locally efficient doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.4) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, (separate) linear regression models outcome treated comparison units, pre post-treatment periods. propensity score parameters estimated using maximum likelihood, outcome regression coefficients estimated using ordinary least squares; see Sant'Anna Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","text":"Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Locally efficient doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc","text":"","code":"# use the simulated data provided in the package covX = as.matrix(sim_rc[,5:8]) # Implement the 'traditional' locally efficient DR DID estimator drdid_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,          covariates= covX) #>  Call: #> drdid_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d, covariates = covX) #> ------------------------------------------------------------------ #>  Locally efficient DR DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -0.1678     0.2009    -0.8352     0.4036    -0.5616     0.226    #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: OLS. #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc1.html","id":null,"dir":"Reference","previous_headings":"","what":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","title":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","text":"drdid_rc1 used compute doubly robust estimators ATT  difference--differences () setups stationary repeated cross-sectional data. resulting estimator  locally efficient; see Section 3.2 Sant'Anna Zhao (2020).","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","text":"","code":"drdid_rc1(   y,   post,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","text":"list containing following components: ATT DR point estimate se DR standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = FALSE, estMethod = \"trad2\", boot, boot.type, nboot, type=\"dr\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc1.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","text":"drdid_rc1 function implements doubly robust difference--differences () estimator average treatment effect treated (ATT) defined equation (3.3) Sant'Anna Zhao (2020). estimator makes use logistic propensity score model probability treated group, (separate) linear regression models outcome among comparison units pre post-treatment time periods. Importantly, estimator locally efficient ATT. propensity score parameters estimated using maximum likelihood, outcome regression coefficients estimated using ordinary least squares. resulting estimator locally efficient; see Sant'Anna Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc1.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","text":"Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/drdid_rc1.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Doubly robust DiD estimator for the ATT, with repeated cross-section data — drdid_rc1","text":"","code":"# use the simulated data provided in the package covX = as.matrix(sim_rc[,5:8]) # Implement the 'traditional' DR DID estimator (not locally efficient!) drdid_rc1(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,           covariates= covX) #>  Call: #> drdid_rc1(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d, covariates = covX) #> ------------------------------------------------------------------ #>  DR (but not locally efficient) DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -3.6334     3.1071    -1.1694     0.2422    -9.7234     2.4565   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: OLS. #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse probability weighted DiD estimator, with panel data — ipw_did_panel","title":"Inverse probability weighted DiD estimator, with panel data — ipw_did_panel","text":"ipw_did_panel used compute inverse probability weighted (IPW) estimators ATT  difference--differences () setups panel data. IPW weights normalized sum one,  , estimator Horwitz-Thompson type.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse probability weighted DiD estimator, with panel data — ipw_did_panel","text":"","code":"ipw_did_panel(   y1,   y0,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse probability weighted DiD estimator, with panel data — ipw_did_panel","text":"y1 \\(n\\) x \\(1\\) vector outcomes post-treatment period. y0 \\(n\\) x \\(1\\) vector outcomes pre-treatment period. D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inverse probability weighted DiD estimator, with panel data — ipw_did_panel","text":"list containing following components: ATT IPW point estimate. se IPW standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = TRUE, normalized = FALSE, boot, boot.type, nboot, type=\"ipw\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_panel.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Inverse probability weighted DiD estimator, with panel data — ipw_did_panel","text":"Abadie, Alberto (2005), \"Semiparametric Difference--Differences Estimators\", Review Economic Studies, vol. 72(1), p. 1-19, doi:10.1111/0034-6527.00321 Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_panel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Inverse probability weighted DiD estimator, with panel data — ipw_did_panel","text":"","code":"# Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw, nsw$treated == 0 | nsw$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(1:nrow(eval_lalonde_cps), 5000) eval_lalonde_cps <- eval_lalonde_cps[unit_random,] # Select some covariates covX = as.matrix(cbind(eval_lalonde_cps$age, eval_lalonde_cps$educ,                              eval_lalonde_cps$black, eval_lalonde_cps$married,                              eval_lalonde_cps$nodegree, eval_lalonde_cps$hisp,                              eval_lalonde_cps$re74)) # Implement (unnormalized) IPW DID with panel data ipw_did_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,                 D = eval_lalonde_cps$experimental,                 covariates = covX) #>  Call: #> ipw_did_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,  #>     D = eval_lalonde_cps$experimental, covariates = covX) #> ------------------------------------------------------------------ #>  IPW DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -724.1929   692.1639   -1.0463     0.2954   -2080.8341  632.4483  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Horvitz-Thompson-type IPW estimator. #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse probability weighted DiD estimator, with repeated cross-section data — ipw_did_rc","title":"Inverse probability weighted DiD estimator, with repeated cross-section data — ipw_did_rc","text":"ipw_did_rc used compute inverse probability weighted (IPW) estimators ATT  difference--differences () setups stationary cross-sectional data. IPW weights normalized  sum one, , estimator Horwitz-Thompson type.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse probability weighted DiD estimator, with repeated cross-section data — ipw_did_rc","text":"","code":"ipw_did_rc(   y,   post,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse probability weighted DiD estimator, with repeated cross-section data — ipw_did_rc","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inverse probability weighted DiD estimator, with repeated cross-section data — ipw_did_rc","text":"list containing following components: ATT IPW point estimate. se IPW standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = FALSE, normalized = FALSE, boot, boot.type, nboot, type=\"ipw\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Inverse probability weighted DiD estimator, with repeated cross-section data — ipw_did_rc","text":"Abadie, Alberto (2005), \"Semiparametric Difference--Differences Estimators\", Review Economic Studies, vol. 72(1), p. 1-19, doi:10.1111/0034-6527.00321 Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipw_did_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Inverse probability weighted DiD estimator, with repeated cross-section data — ipw_did_rc","text":"","code":"# use the simulated data provided in the package covX = as.matrix(sim_rc[,5:8]) # Implement unnormalized IPW DID estimator ipw_did_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,            covariates= covX) #>  Call: #> ipw_did_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d, covariates = covX) #> ------------------------------------------------------------------ #>  IPW DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -19.8933   53.8682    -0.3693     0.7119    -125.475   85.6884   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Horvitz-Thompson-type IPW estimator. #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/ipwdid.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse probability weighted DiD estimators for the ATT — ipwdid","title":"Inverse probability weighted DiD estimators for the ATT — ipwdid","text":"ipwdid computes inverse probability weighted estimators average treatment effect  treated difference--differences () setups. can used panel stationary repeated  cross-sectional data, without normalized (stabilized) weights. See Abadie (2005) Sant'Anna  Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipwdid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse probability weighted DiD estimators for the ATT — ipwdid","text":"","code":"ipwdid(   yname,   tname,   idname,   dname,   xformla = NULL,   data,   panel = TRUE,   normalized = TRUE,   weightsname = NULL,   boot = FALSE,   boot.type = c(\"weighted\", \"multiplier\"),   nboot = 999,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/ipwdid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse probability weighted DiD estimators for the ATT — ipwdid","text":"yname name outcome variable. tname name column containing time periods. idname name column containing unit id name. dname name column containing treatment group (=1 observation treated post-treatment, =0 otherwise) xformla formula covariates include model. form ~ X1 + X2 (intercept listed always automatically included). Default NULL equivalent xformla=~1. data name data.frame contains data. panel Whether data panel dataset. panel dataset provided long format -- , row corresponds unit observed particular point time.  default TRUE. panel = FALSE, data treated stationary repeated cross sections. normalized Logical argument whether IPW weights normalized sum one. Default TRUE. weightsname name column containing sampling weights. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE analytical standard errors reported. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipwdid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inverse probability weighted DiD estimators for the ATT — ipwdid","text":"list containing following components: ATT IPW point estimate se IPW standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used call (panel, normalized, boot, boot.type, nboot, type==\"ipw\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipwdid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Inverse probability weighted DiD estimators for the ATT — ipwdid","text":"ipwdid function implements inverse probability weighted (IPW) difference--differences () estimator average treatment effect treated (ATT) proposed Abadie (2005) (normalized = FALSE) Hajek-type version defined equations (4.1) (4.2) Sant'Anna Zhao (2020), either panel data stationary repeated cross-sectional data available. estimator makes use logistic propensity score model probability treated group, propensity score parameters estimated via maximum likelihood.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipwdid.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Inverse probability weighted DiD estimators for the ATT — ipwdid","text":"Abadie, Alberto (2005), \"Semiparametric Difference--Differences Estimators\", Review Economic Studies, vol. 72(1), p. 1-19, doi:10.1111/0034-6527.00321 Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ipwdid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Inverse probability weighted DiD estimators for the ATT — ipwdid","text":"","code":"# ----------------------------------------------- # Panel data case # ----------------------------------------------- # Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw_long, nsw_long$treated == 0 | nsw_long$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(unique(eval_lalonde_cps$id), 5000) eval_lalonde_cps <- eval_lalonde_cps[eval_lalonde_cps$id %in% unit_random,]  # Implement IPW DID with panel data (normalized weights) ipwdid(yname=\"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",       xformla= ~ age+ educ+ black+ married+ nodegree+ hisp+ re74,       data = eval_lalonde_cps, panel = TRUE) #>  Call: #> ipwdid(yname = \"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",  #>     xformla = ~age + educ + black + married + nodegree + hisp +  #>         re74, data = eval_lalonde_cps, panel = TRUE) #> ------------------------------------------------------------------ #>  IPW DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -655.9068   687.8493   -0.9536     0.3403   -2004.0914  692.2778  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Hajek-type IPW estimator (weights sum up to 1). #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details.  # ----------------------------------------------- # Repeated cross section case # ----------------------------------------------- # use the simulated data provided in the package #Implement IPW DID with repeated cross-section data (normalized weights) # use Bootstrap to make inference with 199 bootstrap draws (just for illustration) ipwdid(yname=\"y\", tname = \"post\", idname = \"id\", dname = \"d\",       xformla= ~ x1 + x2 + x3 + x4,       data = sim_rc, panel = FALSE,       boot = TRUE, nboot = 199) #>  Call: #> ipwdid(yname = \"y\", tname = \"post\", idname = \"id\", dname = \"d\",  #>     xformla = ~x1 + x2 + x3 + x4, data = sim_rc, panel = FALSE,  #>     boot = TRUE, nboot = 199) #> ------------------------------------------------------------------ #>  IPW DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -15.8033    9.7237    -1.6252     0.1041    -32.7867    1.1801   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Hajek-type IPW estimator (weights sum up to 1). #>  Propensity score est. method: maximum likelihood. #>  Boostrapped standard error based on 199 bootstrap draws.  #>  Bootstrap method: weighted .  #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/nsw.html","id":null,"dir":"Reference","previous_headings":"","what":"National Supported Work Demonstration dataset — nsw","title":"National Supported Work Demonstration dataset — nsw","text":"nsw contains subsamples National Supported Work (NSW) Demonstration analyzed used Smith Todd (2005) paper \"matching overcome LaLonde's critique nonexperimental estimators?\".","code":""},{"path":"https://did-packages.github.io/DRDID/reference/nsw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"National Supported Work Demonstration dataset — nsw","text":"","code":"nsw"},{"path":"https://did-packages.github.io/DRDID/reference/nsw.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"National Supported Work Demonstration dataset — nsw","text":"data frame \"wide\" format 19204 observations following 14 variables: treated indicator variable treatment status. Missing part   NSW experimental sample age age years. educ years schooling. black indicator variable blacks. married indicator variable martial status. nodegree indicator variable high school diploma. dwincl indicator variable inclusion Dehejia Wahba sample.   Missing part experimental sample re74 real earnings 1974 (pre-treatment). re75 real earnings 1975 (pre-treatment). re78 real earnings 1978 (post-treatment). hisp indicator variable Hispanics. early_ra indicator variable inclusion early random assignment   sample Smith Todd (2005). Missing part experimental sample sample 1 NSW (experimental sample), 2 CPS comparison group, 3 PSID    comparison group. experimental 1 experimental sample, 0 otherwise.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/nsw.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"National Supported Work Demonstration dataset — nsw","text":"https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/23407/DYEWLO&version=1.0.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/nsw.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"National Supported Work Demonstration dataset — nsw","text":"Diamond, Alexis, Sekhon, Jasjeet S. (2013),   'Genetic Matching Estimating Causal Effects: General Multivariate Matching Method Achieving Balance    Observational Studies' Review Economics Statistics, vol. 95 , pp. 932-945, doi:10.1162/REST_a_00318 Smith, Jeffrey, Todd, Petra (2005),    matching overcome LaLonde's critique nonexperimental estimators?' Journal Econometrics,    vol. 125, pp. 305-353, doi:10.1016/j.jeconom.2004.04.011","code":""},{"path":"https://did-packages.github.io/DRDID/reference/nsw_long.html","id":null,"dir":"Reference","previous_headings":"","what":"National Supported Work Demonstration dataset, in long format — nsw_long","title":"National Supported Work Demonstration dataset, in long format — nsw_long","text":"nsw_long dataset nsw long format.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/nsw_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"National Supported Work Demonstration dataset, in long format — nsw_long","text":"","code":"nsw_long"},{"path":"https://did-packages.github.io/DRDID/reference/nsw_long.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"National Supported Work Demonstration dataset, in long format — nsw_long","text":"data frame \"long\" format 38408 observations following 15 variables: id unique identifier cross-sectional unit (worker). year year. 1975 pre-treatment 1978 post-treatment treated indicator variable treatment status. Missing part   NSW experimental sample. age age years. educ years schooling. black indicator variable blacks. married indicator variable martial status. nodegree indicator variable high school diploma. dwincl indicator variable inclusion Dehejia Wahba sample.   Missing part experimental sample re74 real earnings 1974 (pre-treatment). hisp indicator variable Hispanics. early_ra indicator variable inclusion early random assignment   sample Smith Todd (2005). Missing part experimental sample sample 1 NSW (experimental sample), 2 CPS comparison group, 3 PSID    comparison group. re real earnings (outcome interest). experimental 1 experimental sample, 0 otherwise.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/nsw_long.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"National Supported Work Demonstration dataset, in long format — nsw_long","text":"https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/23407/DYEWLO&version=1.0.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/nsw_long.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"National Supported Work Demonstration dataset, in long format — nsw_long","text":"Diamond, Alexis, Sekhon, Jasjeet S. (2013),   'Genetic Matching Estimating Causal Effects: General Multivariate Matching Method Achieving Balance    Observational Studies' Review Economics Statistics, vol. 95 , pp. 932-945, doi:10.1162/REST_a_00318 Smith, Jeffrey, Todd, Petra (2005),    matching overcome LaLonde's critique nonexperimental estimators?' Journal Econometrics,    vol. 125, pp. 305-353, doi:10.1016/j.jeconom.2004.04.011","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ordid.html","id":null,"dir":"Reference","previous_headings":"","what":"Outcome regression DiD estimators for the ATT — ordid","title":"Outcome regression DiD estimators for the ATT — ordid","text":"ordid computes outcome regressions estimators average treatment effect treated difference--differences () setups. can used panel repeated cross section data. See Sant'Anna Zhao (2020) details.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ordid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Outcome regression DiD estimators for the ATT — ordid","text":"","code":"ordid(   yname,   tname,   idname,   dname,   xformla = NULL,   data,   panel = TRUE,   weightsname = NULL,   boot = FALSE,   boot.type = c(\"weighted\", \"multiplier\"),   nboot = 999,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/ordid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Outcome regression DiD estimators for the ATT — ordid","text":"yname name outcome variable. tname name column containing time periods. idname name column containing unit id name. dname name column containing treatment group (=1 observation treated post-treatment, =0 otherwise) xformla formula covariates include model. form ~ X1 + X2. (intercept listed always automatically included). Default NULL equivalent xformla=~1. data name data.frame contains data. panel Whether data panel dataset. panel dataset provided long format -- , row corresponds unit observed particular point time.  default TRUE. panel = FALSE, data treated stationary repeated cross sections. weightsname name column containing sampling weights. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE analytical standard errors reported. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ordid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Outcome regression DiD estimators for the ATT — ordid","text":"list containing following components: ATT IPW point estimate se IPW standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used call (panel, normalized, boot, boot.type, nboot, type==\"\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ordid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Outcome regression DiD estimators for the ATT — ordid","text":"ordid function implements outcome regression difference--differences () estimator average treatment effect treated (ATT) defined equation (2.2) Sant'Anna Zhao (2020). estimator follows spirit nonparametric estimators proposed Heckman, Ichimura Todd (1997), though outcome regression models assumed linear covariates (parametric). nuisance parameters (outcome regression coefficients) estimated via ordinary least squares.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ordid.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Outcome regression DiD estimators for the ATT — ordid","text":"Heckman, James J., Ichimura, Hidehiko, Todd, Petra E. (1997),\"Matching Econometric Evaluation Estimator: Evidence Evaluating Job Training Programme\", Review Economic Studies, vol. 64(4), p. 605–654, doi:10.2307/2971733 . Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/ordid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Outcome regression DiD estimators for the ATT — ordid","text":"","code":"# ----------------------------------------------- # Panel data case # ----------------------------------------------- # Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw_long, nsw_long$treated == 0 | nsw_long$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(unique(eval_lalonde_cps$id), 5000) eval_lalonde_cps <- eval_lalonde_cps[eval_lalonde_cps$id %in% unit_random,] # Implement OR DID with panel data ordid(yname=\"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",       xformla= ~ age+ educ+ black+ married+ nodegree+ hisp+ re74,       data = eval_lalonde_cps, panel = TRUE) #>  Call: #> ordid(yname = \"re\", tname = \"year\", idname = \"id\", dname = \"experimental\",  #>     xformla = ~age + educ + black + married + nodegree + hisp +  #>         re74, data = eval_lalonde_cps, panel = TRUE) #> ------------------------------------------------------------------ #>  Outcome-Regression DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -1312.6766  597.2834   -2.1977     0.028    -2483.3521 -142.0011  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Outcome regression est. method: OLS. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details.  # ----------------------------------------------- # Repeated cross section case # ----------------------------------------------- # use the simulated data provided in the package # Implement OR DID with repeated cross-section data # use Bootstrap to make inference with 199 bootstrap draws (just for illustration) ordid(yname=\"y\", tname = \"post\", idname = \"id\", dname = \"d\",       xformla= ~ x1 + x2 + x3 + x4,       data = sim_rc, panel = FALSE,       boot = TRUE, nboot = 199) #>  Call: #> ordid(yname = \"y\", tname = \"post\", idname = \"id\", dname = \"d\",  #>     xformla = ~x1 + x2 + x3 + x4, data = sim_rc, panel = FALSE,  #>     boot = TRUE, nboot = 199) #> ------------------------------------------------------------------ #>  Outcome-Regression DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>   -8.791      8.81     -0.9978     0.3184    -23.8673    6.2854   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: OLS. #>  Boostrapped standard error based on 199 bootstrap draws.  #>  Bootstrap method: weighted .  #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","title":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","text":"reg_did_panel computes outcome regressions estimators average treatment effect treated difference--differences () setups panel data.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","text":"","code":"reg_did_panel(   y1,   y0,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","text":"y1 \\(n\\) x \\(1\\) vector outcomes post-treatment period. y0 \\(n\\) x \\(1\\) vector outcomes pre-treatment period. D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","text":"list containing following components: ATT Reg point estimate se Reg standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = TRUE, boot, boot.type, nboot, type=\"\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_panel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","text":"reg_did_panel function implements outcome regression difference--differences () estimator average treatment effect treated (ATT) defined equation (2.2) Sant'Anna Zhao (2020) panel data available. estimator follows spirit nonparametric estimators proposed Heckman, Ichimura Todd (1997), though outcome regression models assumed linear covariates (parametric), nuisance parameters (outcome regression coefficients) estimated via ordinary least squares.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_panel.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","text":"Heckman, James J., Ichimura, Hidehiko, Todd, Petra E. (1997),\"Matching Econometric Evaluation Estimator: Evidence Evaluating Job Training Programme\", Review Economic Studies, vol. 64(4), p. 605–654, doi:10.2307/2971733 . Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_panel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Outcome regression DiD estimator for the ATT, with panel data — reg_did_panel","text":"","code":"# Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw, nsw$treated == 0 | nsw$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(1:nrow(eval_lalonde_cps), 5000) eval_lalonde_cps <- eval_lalonde_cps[unit_random,] # Select some covariates covX = as.matrix(cbind(eval_lalonde_cps$age, eval_lalonde_cps$educ,                        eval_lalonde_cps$black, eval_lalonde_cps$married,                        eval_lalonde_cps$nodegree, eval_lalonde_cps$hisp,                        eval_lalonde_cps$re74)) # Implement OR DID with panel data reg_did_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,                D = eval_lalonde_cps$experimental,                covariates = covX) #>  Call: #> reg_did_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,  #>     D = eval_lalonde_cps$experimental, covariates = covX) #> ------------------------------------------------------------------ #>  Outcome-Regression DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -1312.6766  597.2834   -2.1977     0.028    -2483.3521 -142.0011  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Outcome regression est. method: OLS. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","title":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","text":"reg_did_rc computes outcome regressions estimators average treatment effect treated difference--differences () setups stationary repeated cross-sectional data.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","text":"","code":"reg_did_rc(   y,   post,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used regression estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","text":"list containing following components: ATT Reg point estimate se Reg standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = FALSE, boot, boot.type, nboot, type=\"\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_rc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","text":"reg_did_rc function implements outcome regression difference--differences () estimator average treatment effect treated (ATT) defined equation (2.2) Sant'Anna Zhao (2020) stationary repeated cross-sectional data available.  estimator follows spirit nonparametric estimators proposed Heckman, Ichimura Todd (1997), though outcome regression models assumed linear covariates (parametric), nuisance parameters (outcome regression coefficients) estimated via ordinary least squares.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","text":"Heckman, James J., Ichimura, Hidehiko, Todd, Petra E. (1997),\"Matching Econometric Evaluation Estimator: Evidence Evaluating Job Training Programme\", Review Economic Studies, vol. 64(4), p. 605–654, doi:10.2307/2971733 . Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/reg_did_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Outcome regression DiD estimator for the ATT, with repeated cross-section data — reg_did_rc","text":"","code":"# use the simulated data provided in the package covX = as.matrix(sim_rc[,5:8]) # Implement OR DID estimator reg_did_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,            covariates= covX) #>  Call: #> reg_did_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d, covariates = covX) #> ------------------------------------------------------------------ #>  Outcome-Regression DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>   -8.791     7.7785    -1.1302     0.2584    -24.0368    6.4548   #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Outcome regression est. method: OLS. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/sim_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated repeated cross-section data — sim_rc","title":"Simulated repeated cross-section data — sim_rc","text":"sim_rc contains simulated dataset following DGP1 Sant'Anna Zhao (2020).","code":""},{"path":"https://did-packages.github.io/DRDID/reference/sim_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated repeated cross-section data — sim_rc","text":"","code":"sim_rc"},{"path":"https://did-packages.github.io/DRDID/reference/sim_rc.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated repeated cross-section data — sim_rc","text":"data frame \"long\" format 1000 observations following 8 variables: id unique identifier cross-sectional unit. post indicator variable post-treatment period (1 post,    0 pre treatment period). y outcome interest d indicator variable treatment group. Equal 1   experience treatment post-treatment period; equal 0 never experience   treatment. x1 Covariate z1 Sant'Anna Zhao(2020) x2 Covariate z2 Sant'Anna Zhao(2020) x3 Covariate z3 Sant'Anna Zhao(2020) x4 Covariate z4 Sant'Anna Zhao(2020)","code":""},{"path":"https://did-packages.github.io/DRDID/reference/sim_rc.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Simulated repeated cross-section data — sim_rc","text":"Sant'Anna Zhao (2020)","code":""},{"path":"https://did-packages.github.io/DRDID/reference/sim_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Simulated repeated cross-section data — sim_rc","text":"Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardized inverse probability weighted DiD estimator, with panel data — std_ipw_did_panel","title":"Standardized inverse probability weighted DiD estimator, with panel data — std_ipw_did_panel","text":"std_ipw_did_panel used compute inverse probability weighted (IPW) estimators ATT  difference--differences () setups panel data. IPW weights normalized sum one, ,  estimator Hajek type.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardized inverse probability weighted DiD estimator, with panel data — std_ipw_did_panel","text":"","code":"std_ipw_did_panel(   y1,   y0,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardized inverse probability weighted DiD estimator, with panel data — std_ipw_did_panel","text":"y1 \\(n\\) x \\(1\\) vector outcomes post-treatment period. y0 \\(n\\) x \\(1\\) vector outcomes pre-treatment period. D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardized inverse probability weighted DiD estimator, with panel data — std_ipw_did_panel","text":"list containing following components: ATT IPW point estimate. se IPW standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = TRUE, normalized = TRUE, boot, boot.type, nboot, type=\"ipw\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_panel.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Standardized inverse probability weighted DiD estimator, with panel data — std_ipw_did_panel","text":"Abadie, Alberto (2005), \"Semiparametric Difference--Differences Estimators\", Review Economic Studies, vol. 72(1), p. 1-19, doi:10.1111/0034-6527.00321 . Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_panel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardized inverse probability weighted DiD estimator, with panel data — std_ipw_did_panel","text":"","code":"# Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw, nsw$treated == 0 | nsw$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(1:nrow(eval_lalonde_cps), 5000) eval_lalonde_cps <- eval_lalonde_cps[unit_random,] # Select some covariates covX = as.matrix(cbind(eval_lalonde_cps$age, eval_lalonde_cps$educ,                        eval_lalonde_cps$black, eval_lalonde_cps$married,                        eval_lalonde_cps$nodegree, eval_lalonde_cps$hisp,                        eval_lalonde_cps$re74)) # Implement normalized IPW DID with panel data std_ipw_did_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,                 D = eval_lalonde_cps$experimental,                 covariates = covX) #>  Call: #> std_ipw_did_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,  #>     D = eval_lalonde_cps$experimental, covariates = covX) #> ------------------------------------------------------------------ #>  IPW DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #> -655.9068   687.8493   -0.9536     0.3403   -2004.0914  692.2778  #> ------------------------------------------------------------------ #>  Estimator based on panel data. #>  Hajek-type IPW estimator (weights sum up to 1). #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardized inverse probability weighted DiD estimator, with repeated cross-section data — std_ipw_did_rc","title":"Standardized inverse probability weighted DiD estimator, with repeated cross-section data — std_ipw_did_rc","text":"std_ipw_did_rc used compute inverse probability weighted (IPW) estimators ATT  setups stationary repeated cross-sectional data. IPW weights normalized sum one, ,  estimator Hajek type.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardized inverse probability weighted DiD estimator, with repeated cross-section data — std_ipw_did_rc","text":"","code":"std_ipw_did_rc(   y,   post,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardized inverse probability weighted DiD estimator, with repeated cross-section data — std_ipw_did_rc","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used propensity score estimation. covariates = NULL, leads unconditional estimator. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardized inverse probability weighted DiD estimator, with repeated cross-section data — std_ipw_did_rc","text":"list containing following components: ATT IPW point estimate. se IPW standard error uci Estimate upper bound 95% CI ATT lci Estimate lower bound 95% CI ATT boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL call.param matched call. argu arguments used (explicitly ) call (panel = FALSE, normalized = TRUE, boot, boot.type, nboot, type=\"ipw\")","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_rc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Standardized inverse probability weighted DiD estimator, with repeated cross-section data — std_ipw_did_rc","text":"Abadie, Alberto (2005), \"Semiparametric Difference--Differences Estimators\", Review Economic Studies, vol. 72(1), p. 1-19, doi:10.1111/0034-6527.00321 . Sant'Anna, Pedro H. C. Zhao, Jun. (2020), \"Doubly Robust Difference--Differences Estimators.\" Journal Econometrics, Vol. 219 (1), pp. 101-122, doi:10.1016/j.jeconom.2020.06.003","code":""},{"path":"https://did-packages.github.io/DRDID/reference/std_ipw_did_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardized inverse probability weighted DiD estimator, with repeated cross-section data — std_ipw_did_rc","text":"","code":"# use the simulated data provided in the package covX = as.matrix(sim_rc[,5:8]) # Implement normalized IPW DID estimator std_ipw_did_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,                covariates= covX) #>  Call: #> std_ipw_did_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,  #>     covariates = covX) #> ------------------------------------------------------------------ #>  IPW DID estimator for the ATT: #>   #>    ATT     Std. Error  t value    Pr(>|t|)  [95% Conf. Interval]  #>  -15.8033    9.0879    -1.7389     0.082     -33.6157    2.009    #> ------------------------------------------------------------------ #>  Estimator based on (stationary) repeated cross-sections data. #>  Hajek-type IPW estimator (weights sum up to 1). #>  Propensity score est. method: maximum likelihood. #>  Analytical standard error. #> ------------------------------------------------------------------ #>  See Sant'Anna and Zhao (2020) for details."},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"Two-way fixed effects DiD estimator, with panel data — twfe_did_panel","title":"Two-way fixed effects DiD estimator, with panel data — twfe_did_panel","text":"twfe_did_panel used compute linear two-way fixed effects estimators ATT  difference--differences () setups panel data. illustrated Sant'Anna Zhao (2020),  estimator generally recover ATT. encourage empiricists adopt alternative specifications.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Two-way fixed effects DiD estimator, with panel data — twfe_did_panel","text":"","code":"twfe_did_panel(   y1,   y0,   D,   covariates,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Two-way fixed effects DiD estimator, with panel data — twfe_did_panel","text":"y1 \\(n\\) x \\(1\\) vector outcomes post-treatment period. y0 \\(n\\) x \\(1\\) vector outcomes pre-treatment period. D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used regression estimation. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Two-way fixed effects DiD estimator, with panel data — twfe_did_panel","text":"list containing following components: ATT TWFE point estimate se TWFE standard error uci Estimate upper bound 95% CI TWFE parameter. lci Estimate lower bound 95% CI TWFE parameter. boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL","code":""},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_panel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Two-way fixed effects DiD estimator, with panel data — twfe_did_panel","text":"","code":"# Form the Lalonde sample with CPS comparison group eval_lalonde_cps <- subset(nsw, nsw$treated == 0 | nsw$sample == 2) # Further reduce sample to speed example set.seed(123) unit_random <- sample(1:nrow(eval_lalonde_cps), 5000) eval_lalonde_cps <- eval_lalonde_cps[unit_random,] # Select some covariates covX = as.matrix(cbind(eval_lalonde_cps$age, eval_lalonde_cps$educ,                        eval_lalonde_cps$black, eval_lalonde_cps$married,                        eval_lalonde_cps$nodegree, eval_lalonde_cps$hisp,                        eval_lalonde_cps$re74)) # Implement TWFE DID with panel data twfe_did_panel(y1 = eval_lalonde_cps$re78, y0 = eval_lalonde_cps$re75,                D = eval_lalonde_cps$experimental,                covariates = covX) #> $ATT #> dd:post  #>  702.58  #>  #> $se #> [1] 595.31 #>  #> $uci #>  dd:post  #> 1869.388  #>  #> $lci #>   dd:post  #> -464.2276  #>  #> $boots #> NULL #>  #> $att.inf.func #> NULL #>"},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_rc.html","id":null,"dir":"Reference","previous_headings":"","what":"Two-way fixed effects DiD estimator, with repeated cross-section data — twfe_did_rc","title":"Two-way fixed effects DiD estimator, with repeated cross-section data — twfe_did_rc","text":"twfe_did_rc used compute linear two-way fixed effects estimators ATT  difference--differences () setups stationary repeated cross-sectional data. illustrated  Sant'Anna Zhao (2020),estimator generally recover ATT. encourage empiricists  adopt alternative specifications.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_rc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Two-way fixed effects DiD estimator, with repeated cross-section data — twfe_did_rc","text":"","code":"twfe_did_rc(   y,   post,   D,   covariates = NULL,   i.weights = NULL,   boot = FALSE,   boot.type = \"weighted\",   nboot = NULL,   inffunc = FALSE )"},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_rc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Two-way fixed effects DiD estimator, with repeated cross-section data — twfe_did_rc","text":"y \\(n\\) x \\(1\\) vector outcomes pre post-treatment periods. post \\(n\\) x \\(1\\) vector Post-Treatment dummies (post = 1 observation belongs post-treatment period, post = 0 observation belongs pre-treatment period.) D \\(n\\) x \\(1\\) vector Group indicators (=1 observation treated post-treatment period, =0 otherwise). covariates \\(n\\) x \\(k\\) matrix covariates used regression estimation. .weights \\(n\\) x \\(1\\) vector weights used. NULL, every observation weights. boot Logical argument whether bootstrap used inference. Default FALSE. boot.type Type bootstrap performed (relevant boot = FALSE). Options \"weighted\" \"multiplier\". boot = TRUE, default \"weighted\". nboot Number bootstrap repetitions (relevant boot = FALSE). Default 999. inffunc Logical argument whether influence function returned. Default FALSE.","code":""},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_rc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Two-way fixed effects DiD estimator, with repeated cross-section data — twfe_did_rc","text":"list containing following components: ATT TWFE point estimate se TWFE standard error uci Estimate upper bound 95% CI TWFE parameter. lci Estimate lower bound 95% CI TWFE parameter. boots Bootstrap draws ATT, case bootstrap used conduct inference. Default NULL att.inf.func Estimate influence function. Default NULL","code":""},{"path":"https://did-packages.github.io/DRDID/reference/twfe_did_rc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Two-way fixed effects DiD estimator, with repeated cross-section data — twfe_did_rc","text":"","code":"# use the simulated data provided in the package covX = as.matrix(sim_rc[,5:8]) # Implement TWFE DID estimator (you probably should consider something else....) twfe_did_rc(y = sim_rc$y, post = sim_rc$post, D = sim_rc$d,            covariates= covX) #> $ATT #>   dd:post  #> -25.43961  #>  #> $se #> [1] 3.710505 #>  #> $uci #>   dd:post  #> -18.16702  #>  #> $lci #>  dd:post  #> -32.7122  #>  #> $boots #> NULL #>  #> $att.inf.func #> NULL #>"},{"path":"https://did-packages.github.io/DRDID/news/index.html","id":"drdid-105","dir":"Changelog","previous_headings":"","what":"DRDID 1.0.5","title":"DRDID 1.0.5","text":"Switch MIT license Switch github codes documentation -packages github organization drop collinear variables pre_process_drdid.R (useful drdid command commands) Add compatibility R 3.5 Ensure idname always provided (regardless panel data repeated cross section data setup)","code":""},{"path":"https://did-packages.github.io/DRDID/news/index.html","id":"drdid-104","dir":"Changelog","previous_headings":"","what":"DRDID 1.0.4","title":"DRDID 1.0.4","text":"CRAN release: 2022-07-19 Fixed links","code":""},{"path":"https://did-packages.github.io/DRDID/news/index.html","id":"drdid-103","dir":"Changelog","previous_headings":"","what":"DRDID 1.0.3","title":"DRDID 1.0.3","text":"CRAN release: 2021-11-13 Add new flags non-unique unit identifier Better handle factor variables covariates","code":""},{"path":"https://did-packages.github.io/DRDID/news/index.html","id":"drdid-102","dir":"Changelog","previous_headings":"","what":"DRDID 1.0.2","title":"DRDID 1.0.2","text":"Fix issue NA covariates","code":""},{"path":"https://did-packages.github.io/DRDID/news/index.html","id":"drdid-101","dir":"Changelog","previous_headings":"","what":"DRDID 1.0.1","title":"DRDID 1.0.1","text":"CRAN release: 2021-01-07 Allows treating covariates factor alike computing Improve error warning handling due collinearity convergence issues.","code":""},{"path":"https://did-packages.github.io/DRDID/news/index.html","id":"drdid-100","dir":"Changelog","previous_headings":"","what":"DRDID 1.0.0","title":"DRDID 1.0.0","text":"CRAN release: 2020-05-18 First official version package, functions computing variety difference--differences () estimators ATT. Documentation improved compared devel version, including examples every function now. Created wrapper function drdid, ordid ipwdid implement doubly-robust, outcome regression inverse probability weighted estimators. Add dataset used empirical application Sant’Anna Zhao (2020).","code":""}]
